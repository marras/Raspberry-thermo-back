= javascript 'dygraph-combined-dev'

%h1.title
  Microscopy lab temperature

.row
  - current_temps.each_with_index do |pair, i|
    - name, temp = pair
    - cls = "t#{i+1}"
    .temp-box
      %h4
        %span.temp{class: cls} #{temp} Â°C

%h2 History

%form{url: '/', method: :get}
  .row
    .date-selector
      %span From:
      %input.flatpickr#fromDate{type: "text", name: 'from_date', placeholder: "Select Date.."}

    .date-selector
      %span To:
      %input.flatpickr#toDate{type: "text", name: 'end_date', placeholder: "Select Date.."}

    .date-selector
      %input#submit{type: :submit}

#graphdiv

:javascript
  document.getElementById("fromDate").flatpickr({enableTime: true});
  document.getElementById("toDate").flatpickr({enableTime: true});

  width = window.innerWidth;
  g = new Dygraph(
    document.getElementById("graphdiv"),
    "/data",
    {
      colors: ["#FF0000", "#00FF00", "#0000FF"],
      width: width * 0.9
    }
  );
